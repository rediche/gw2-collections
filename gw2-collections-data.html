<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../gw2api-items/gw2api-items.html">
<!--<link rel="import" href="../polymer/lib/elements/dom-if.html">-->
<!--<link rel="import" href="../polymer/lib/elements/dom-repeat.html">-->

<!--
`gw2-collections-data`
Generate a the data for gw2-collections.html

@demo demo/index.html
-->

<dom-module id="gw2-collections-data">
  <template>
    <!--<gw2api-items auto ids="14885" response="{{ itemData }}"></gw2api-items>-->

    <gw2api-items
      id="itemScraper"
      response="{{ lastRespondedData }}">
    </gw2api-items>
  </template>

  <script>
    /** @polymerElement */
    class Gw2CollectionsData extends Polymer.Element {
      static get is() { return 'gw2-collections-data'; }

      static get properties() {
        return {
          data: {
            type: Object,
            notify: true,
            observer: '_dataChanged',
            value: function() {
              return this._defaultData();
            }
          },

          lastRespondedData: {
            type: Object
          }
        };
      }

      _dataChanged(data) {
        console.log("Data changed!", data);
      }

      _defaultData() {
        return [{
          name: "Basic",
          icon: "Basic_Collections.png",
          collections: [{
            name: "Hylek Historian",
            item_ids: [14882, 14883, 14884, 14885, 14886, 14887, 14888, 14889, 14890, 14891, 14892, 14893, 14894, 14895, 14896, 14897, 14898, 14899, 14900],
            items: null
          },{
            name: "Grawl Archaeological Study",
            item_ids: [46042, 46043, 46044, 46045, 46046, 46047, 46048, 46049, 46050, 46051, 46052, 46053, 46054, 46055, 46056, 46057, 46058, 46059, 46060],
            items: null
          }]
        },{
          name: "Rare",
          icon: "Rare_Collections.png",
          collections: [{
            name: "Acolyte of Dwayna",
            item_ids: [31070, 31073, 39476, 39479],
            items: null
          },{
            name: "Exotic Hunter",
            item_ids: [44960, 44961, 44962, 44963, 44964, 44965, 44966, 44967, 44968, 44969, 44970, 44971, 44972, 44973, 44974, 44975, 44976, 44977, 44978, 44979, 44980, 44981, 44982, 44983, 44984, 44985, 44986, 44987, 44988, 44989, 44990, 44991, 44992, 44999],
            items: null
          },{
            name: "Jormag Defense Guide",
            item_ids: [14920, 14921, 14922, 14923, 14924, 14925, 14926, 14927, 14928, 14929, 14930, 14931, 14932, 14933, 14934, 14935, 14936, 14937, 14938, 31065, 31105, 67276],
            items: null
          },{
            name: "Spirit Crafter",
            item_ids: [31062, 31071, 31074, 31077, 31078],
            items: null
          }]
        },{
          name: "Black Lion",
          icon: "Black_Lion_Collections.png",
          collections: null
        }];
      }
    }

    window.customElements.define(Gw2CollectionsData.is, Gw2CollectionsData);
  </script>
</dom-module>
